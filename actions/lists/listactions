#!/usr/bin/env bash
# shellcheck shell=bash
#===============================================================================
#
#          FILE: listactions
#
#         USAGE: todo.sh listactions
#
#        AUTHOR: Paul Mansfield (paul.mansfield@mansteck.co.uk), 
#     COPYRIGHT: 2009-2021 Paul Mansfield
#       LICENSE: GPL, http://www.gnu.org/copyleft/gpl.html
#===============================================================================

## Functions
usage() {
  echo "  $(basename "$0")"
  echo "    list all possible actions"
  echo ""
  exit
}

# remove action
shift

# Usage for todo.sh help
if [[ "$1" = "usage" ]] || [[ "$1" = "-h" ]]; then
	usage
	exit
fi

## list all possible actions
# shellcheck disable=SC2209
BUILTINS="$(PAGER=cat tt shorthelp | sed '/ Actions can be/,$d' | grep "^    [[:alnum:]]" | cut -f 5 -d " " | sed 's/|/\n/')"
# Use builtin to find all external actions
ADDONS="$("${TODO_FULL_SH}" listaddons)"
# echo each and sort
for action in ${BUILTINS} ; do 
	echo "$action"
done; echo "${ADDONS}" | sort | uniq